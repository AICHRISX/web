<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>002-cookie.html</title>
</head>
<body>
	cookie-test
</body>
<!-- <script src="js/search.js"></script> -->
<script>
	 // 保留COOKIES一个小时

// Response.Cookies("MyCookie").Expires= (now()+1/24);
// Response.Cookies("MyCookie").Expires = DateAdd("h", 1, Now());


// cookieHelper: function(name, value, options) { 
//     if (typeof value != 'undefined') { // name and value given, set cookie 
//       options = options || {}; 
//       if (value === null) { 
//         value = ''; 
//         options.expires = -1; 
//       } 
//       var expires = ''; 
//       if (options.expires && (typeof options.expires == 'number' || options.expires.toUTCString)) { 
//         var date; 
//         if (typeof options.expires == 'number') { 
//           date = new Date(); 
//           date.setTime(date.getTime() + (options.expires * 24 * 60 * 60 * 1000)); 
//         } else { 
//           date = options.expires; 
//         } 
//         expires = '; expires=' + date.toUTCString(); // use expires attribute, max-age is not supported by IE 
//       } 
//       var path = options.path ? '; path=' + options.path : ''; 
//       var domain = options.domain ? '; domain=' + options.domain : ''; 
//       var secure = options.secure ? '; secure' : ''; 
//       document.cookie = [name, '=', encodeURIComponent(value), expires, path, domain, secure].join(''); 
//     } else { // only name given, get cookie 
//       var cookieValue = null; 
//       if (document.cookie && document.cookie != '') { 
//         var cookies = document.cookie.split(';'); 
//         for (var i = 0; i < cookies.length; i++) { 
//           var cookie = jQuery.trim(cookies[i]); 
//           // Does this cookie string begin with the name we want? 
//           if (cookie.substring(0, name.length + 1) == (name + '=')) { 
//             cookieValue = decodeURIComponent(cookie.substring(name.length + 1)); 
//             break; 
//           } 
//         } 
//       } 
//       return cookieValue; 
//     } 
//   } 







  function setCookie(key,val,iData){
    var oDate = new Date();
    oDate.setDate(oDate.getDate()+ iData);
    document.cookie = key + "="+val+";Expires ="+oDate;
  }
/*
  var oDate = new Date();
  oDate.setDate(oDate.getDate()+14);
  document.cookie = "username = chris;Expires ="+oDate;
  document.cookie = "age = 18";
  console.log(document.cookie); 
*/
  setCookie("username","chris",20);
  setCookie("age","22",11);
  // setCookie("username","vincent",23);
  // console.log(document.cookie);
    function getCookie(key){
      var str = document.cookie;
      var arr1 = str.split(';');
      // console.log(arr1[i])
      for(var i = 0;i<arr1.length;i++){
        var arr2 = arr1[i].split('=');
        // console.log(arr2);
        for(var j = 0;j<arr2.length;j++){
          if(key.trim() == arr2[0].trim()){
            return arr2[1];
            break;
          }
        }
      }
  }
  console.log(getCookie('age'));
  
  function removeCookie(key){
      setCookie(key,false,-1);
  }
  removeCookie('age');
</script>
</html>